
/*
A simple "hello world" example.
Set the screen background color and palette colors.
Then write a message to the nametable.
Finally, turn on the PPU to display video.
*/

#include "neslib.h"

//Screen
const unsigned char Tetris_Screen_RLE[793]={
0x01,0x9f,0x8e,0x8f,0x01,0x02,0x8e,0x01,0x02,0x8f,0x8f,0x8e,0x8f,0x8e,0x8f,0x01,
0x02,0x8e,0x8e,0x8f,0x8f,0x8e,0x8f,0x8e,0x8f,0x01,0x02,0x8e,0x8e,0x8f,0x8e,0x8f,
0x8e,0x8f,0x01,0x02,0x8e,0x8f,0x9e,0x9e,0x8f,0x8f,0x9e,0x9e,0x9f,0x8e,0x8f,0x01,
0x02,0x9e,0x8f,0x8f,0x9e,0x9e,0x9f,0x8e,0x8f,0x01,0x02,0x9e,0x8f,0x9e,0x8f,0x9e,
0x9e,0x8f,0x8e,0x8f,0x8e,0x9e,0x9e,0x8e,0xc0,0xc1,0x01,0x09,0xc2,0xc0,0xc1,0x01,
0x05,0xc2,0x9e,0x8e,0x8f,0x9e,0x9e,0x9f,0x9e,0x9f,0x9e,0x01,0x03,0xd0,0x00,0x00,
0x54,0x45,0x54,0x52,0x49,0x53,0x00,0x00,0xd2,0xd0,0x00,0x01,0x05,0xd2,0x8e,0x9e,
0x9f,0x8e,0x9e,0x8e,0x8f,0x8f,0x9e,0x8e,0x8f,0x9e,0xe0,0xe1,0x01,0x09,0xe2,0xd0,
0x82,0x00,0x01,0x04,0xd2,0x9e,0x8e,0x8f,0x9e,0x8f,0x8e,0x8f,0x9e,0x01,0x02,0x9f,
0x9e,0xa5,0xa6,0x01,0x09,0xa7,0xd0,0x53,0x43,0x4f,0x52,0x45,0x3a,0xd2,0x9e,0x8f,
0x9e,0x8f,0x9e,0x9e,0x8e,0x8f,0x8e,0x8e,0x8f,0x8f,0xb5,0x00,0x01,0x09,0xb7,0xd0,
0x30,0x01,0x05,0xd2,0x8e,0x01,0x02,0x8f,0x8f,0x9e,0x9e,0x9f,0x9e,0x8f,0x8f,0x9e,
0xb5,0x00,0x01,0x09,0xb7,0xd0,0x00,0x01,0x05,0xd2,0x9e,0x9e,0xee,0x8e,0x9e,0x8e,
0x8f,0x8e,0x8f,0x8f,0x8e,0x8f,0xb5,0x00,0x01,0x09,0xb7,0xd0,0x00,0x01,0x05,0xd2,
0x9e,0x01,0x03,0x8f,0x8e,0x9e,0x8f,0x8e,0x9e,0x9e,0x9f,0xb5,0x00,0x01,0x09,0xb7,
0xe0,0xe1,0x01,0x05,0xe2,0x9e,0x8e,0xcc,0x8f,0x9e,0x9e,0x8f,0x8e,0xcc,0x8e,0x8f,
0x8e,0xb5,0x00,0x01,0x09,0xb7,0xed,0xee,0x01,0x02,0xed,0xee,0xef,0x8e,0x8f,0x8e,
0x8f,0x01,0x02,0x9e,0x8e,0x9e,0x8e,0x9e,0x9f,0x9e,0xb5,0x00,0x01,0x09,0xb7,0xa5,
0xa6,0x01,0x03,0xa7,0xff,0x9e,0x9f,0x8e,0x8f,0x8f,0x8e,0x8e,0xcc,0x8e,0x9e,0x8f,
0x8f,0x9e,0xb5,0x00,0x01,0x09,0xb7,0xb5,0x4e,0x45,0x58,0x54,0xb7,0x8e,0x8e,0x8f,
0x01,0x02,0x9e,0x01,0x02,0x8e,0x9e,0x8f,0x8e,0x8f,0x9e,0xb5,0x00,0x01,0x09,0xb7,
0xb5,0x00,0x01,0x03,0xb7,0x9e,0x8f,0x8f,0x8e,0x8f,0x8e,0xcc,0x8e,0xcc,0x8f,0x9e,
0x9e,0x9f,0x8e,0xb5,0x00,0x01,0x09,0xb7,0xb5,0x00,0x01,0x03,0xb7,0x8e,0x8f,0x8e,
0x8f,0x9e,0x8f,0x8e,0x01,0x02,0x8f,0x8f,0x8e,0x8f,0xcc,0xb5,0x00,0x01,0x09,0xb7,
0xb5,0x00,0x01,0x03,0xb7,0x8e,0x9e,0x9e,0x9f,0x8e,0x8e,0xcc,0x9e,0x8e,0x9e,0x8e,
0x8f,0x8e,0x8f,0xb5,0x00,0x01,0x09,0xb7,0xb5,0x00,0x01,0x03,0xb7,0x9e,0x9e,0x8e,
0x8f,0xcc,0x9e,0x8e,0x9e,0x9e,0x8e,0x8f,0x9e,0x8f,0x9e,0xb5,0x00,0x01,0x09,0xb7,
0xc5,0xc6,0x01,0x03,0xc7,0x9e,0x8f,0x8e,0x8e,0x8f,0x8e,0xcc,0x9e,0x01,0x02,0x9f,
0x8e,0x8f,0x9e,0xb5,0x00,0x01,0x09,0xb7,0xc0,0xc1,0x01,0x04,0xc2,0x8e,0xcc,0x9e,
0x9f,0x9e,0x8e,0x8e,0x9e,0x8e,0x8e,0xcc,0x8e,0x8f,0xb5,0x00,0x01,0x09,0xb7,0xd0,
0x4c,0x45,0x56,0x45,0x4c,0xd2,0x8e,0x9e,0x8e,0x8f,0x8f,0x9e,0x9e,0x8e,0x9e,0x8f,
0x8e,0x9e,0x9f,0xb5,0x00,0x01,0x09,0xb7,0xd0,0x00,0x01,0x02,0x30,0x00,0xd2,0x9e,
0x8f,0x8f,0x9e,0x8e,0xcc,0x9e,0x9e,0x8f,0x9e,0x9e,0x8f,0x8f,0xb5,0x00,0x01,0x09,
0xb7,0xe0,0xe1,0x01,0x04,0xe2,0x8e,0x8e,0x8f,0x8e,0x8f,0x8f,0x9e,0x9e,0x8e,0x8e,
0x8f,0x8e,0x8f,0xb5,0x00,0x01,0x09,0xb7,0x8e,0x8e,0x8f,0x8f,0x8e,0x8f,0x8e,0x9e,
0x8f,0x9e,0x8f,0x8e,0x9e,0x8e,0x8e,0xcc,0x9e,0x8e,0x8f,0x9e,0xb5,0x00,0x01,0x09,
0xb7,0x9e,0x8e,0x8f,0x9e,0x9e,0x9f,0x9e,0x9e,0x8e,0x8f,0x8e,0xcc,0x8f,0x9e,0x9e,
0x8e,0x9e,0x9e,0x8e,0x9e,0xb5,0x00,0x01,0x09,0xb7,0x9e,0x9e,0x8e,0x8e,0x8f,0x8f,
0x9e,0x8f,0x9e,0x9f,0x8e,0x01,0x02,0x9e,0x8f,0x9e,0x8e,0x9e,0x9e,0x8f,0xb5,0x00,
0x01,0x09,0xb7,0x9e,0x01,0x02,0x8f,0x9e,0x8e,0x8e,0x8f,0x8f,0x8e,0xcc,0x9e,0x9e,
0x8e,0x8f,0x9e,0x9e,0x8f,0x8e,0x9e,0xc5,0xc6,0x01,0x09,0xc7,0x8e,0x8f,0x9e,0x8e,
0x8e,0xcc,0x8e,0x8f,0x9e,0x9e,0x8e,0xcc,0x9e,0x9e,0x8e,0x9e,0x9e,0x8e,0x9e,0x8f,
0x8f,0x8e,0x8f,0x01,0x02,0x8e,0x8f,0x8f,0x8e,0x8f,0x8e,0x8f,0x8e,0x9e,0x8e,0xcc,
0x8f,0x9e,0x9e,0x9f,0x8e,0x8f,0x8e,0x8f,0x9e,0x01,0x02,0x8e,0x8f,0x9e,0x8f,0x8f,
0x8e,0x8f,0x8e,0x8f,0x8f,0x8e,0x8f,0x9e,0x9e,0x9f,0x9e,0x8e,0xcc,0x9e,0x8e,0x8e,
0x8f,0x8e,0x8f,0x8f,0x9e,0x9f,0x9e,0x8e,0x8f,0x8f,0xcc,0x9e,0x9f,0x8e,0x8f,0x01,
0x02,0x9e,0x8f,0x9e,0x8e,0xcc,0x8e,0x8f,0x01,0x02,0x9e,0x9e,0x8e,0x8f,0xcc,0x9e,
0x9f,0x9e,0x8e,0x8f,0x01,0x02,0x9e,0x9e,0x9f,0xff,0x01,0x09,0x3f,0x0f,0xff,0x01,
0x06,0x00,0xff,0x01,0x05,0x3f,0x33,0xff,0x01,0x05,0xf3,0xf3,0xff,0x01,0x05,0x3f,
0xff,0x01,0x0c,0x0f,0x01,0x06,0x0f,0x01,0x00
};

// link the pattern table into CHR ROM
//#link "chr_generic.s"

/*{pal:"nes",layout:"nes"}*/
const unsigned char BG_PAL[16]={ 0x0F,0x00,0x10,0x30,0x0F,0x01,0x21,0x3C,0x0F,0x06,0x16,0x26,0x0F,0x2C,0x00,0x30 };


// main function, run after console reset
void main(void) {
  // set up palette colors
  pal_bg(BG_PAL);
  
  //Draw Initial Screen
  vram_adr(0x2000);		
  vram_unrle(Tetris_Screen_RLE);
  
  
  // enable PPU rendering (turn on screen)
  ppu_on_all();

  // infinite loop
  while (1) ;
}
